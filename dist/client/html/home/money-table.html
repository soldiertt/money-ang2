<div class="col-md-10">
<table class="table table-striped table-bordered">
<thead>
  <tr>
    <th>Catégories</th>
    <th *ngFor="#month of months" class="month-col">{{month.name}}</th>
  </tr>
</thead>
<tbody>
  <tr *ngFor="#category of categories | categorySorter | catfilter : displayParamService.types : displayParamService.frequencies">
    <td>
      <money-icon [icon-class]="'cat-type-' + category.type + '-icon'"></money-icon>
      <money-icon [icon-class]="'cat-freq-' + category.frequency + '-icon'"></money-icon>
      {{category.name}}
    </td>
    <td *ngFor="#period of category.periods | periodFilter : workingYear" [attr.colspan]="12/category.nbPeriods"
      class="money-cell" [class.current]="isCurrentPeriod(category, period)" tooltip="{{period.total > 0}}" (click)="findTx(category.id, period)">
      <div *ngIf="period.total > 0">
        {{period.total | number:'1.2-2'}} €
        <money-tx-details [txList]="period.txList"></money-tx-details>
      </div>
    </td>
  </tr>
</tbody>
</table>
<!--TOTAL-->
<table class="total-table" *ngIf="displayParamService.showTotals">
<thead>
  <tr>
    <th>TOTALS</th>
    <th *ngFor="#month of months" class="month-col">{{month.name}}</th>
  </tr>
</thead>
<tbody>
  <template ngFor #displayedType [ngForOf]="displayParamService.types">
    <template ngFor #displayedFreq [ngForOf]="displayParamService.frequencies">
      <tr>
        <td>{{displayedType}}-{{displayedFreq}}</td>
        <td *ngFor="#total of totals.get(displayedType + '-' + displayedFreq)">
          {{total | number:'1.2-2'}} €
        </td>
      </tr>
    </template>
    <tr class="total-row-medium">
      <td>{{displayedType}}</td>
      <td *ngFor="#total of totals.get(displayedType)">
        {{total | number:'1.2-2'}} €
      </td>
    </tr>
  </template>
  <tr class="total-row-large">
    <td>GLOBAL</td>
    <td *ngFor="#total of totals.get('GLOBAL')">
      {{total | number:'1.2-2'}} €
    </td>
  </tr>
</tbody>
</table>
</div>
