<div>
<h2>Administration des cat√©gories</h2>
<!-- CREATION FORM -->
<form (submit)="onCreate();nameCtrl.focus()" [ngFormModel]="createForm" class="form-horizontal">
  <div class="form-group">
    <label for="cat-name" class="control-label col-sm-2">Name *</label>
    <div class="col-sm-10">
      <input type="text" name="cat-name" id="cat-name" ngControl="name" #nameCtrl class="form-control" />
      <display-error control="name" error="required">Name is required</display-error>
      <display-error control="name" error="minlength">Minimum length is 3 characters</display-error>
      <display-error control="name" error="maxlength">Maximum length is 50 characters</display-error>
    </div>
  </div>
  <div class="form-group">
    <label for="cat-type" class="control-label col-sm-2">Type *</label>
    <div class="col-sm-10">
      <select name="cat-type" id="cat-type" ngControl="type" class="form-control">
        <option value="FIXED">FIXED</option>
        <option value="OTHER">OTHER</option>
        <option value="INCOMING">INCOMING</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="cat-frequency" class="control-label col-sm-2">Frequency *</label>
    <div class="col-sm-10">
      <select name="cat-frequency" id="cat-frequency" ngControl="frequency" class="form-control">
        <option value="MONTHLY">MONTHLY</option>
        <option value="QUARTER">QUARTER</option>
        <option value="YEARLY">YEARLY</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="cat-year" class="control-label col-sm-2">Year *</label>
    <div class="col-sm-10">
      <select multiple id="cat-year" class="form-control" (change)="yearsValueChange($event)">
        <option *ngFor="#year of yearList" [value]="year">{{year}}</option>
      </select>
      <display-error control="years" error="required">Year is required</display-error>
    </div>
  </div>
  <div class="form-group">
    <label class="control-label col-sm-2"></label>
    <div class="col-sm-10">
      <input type="submit" name="submit" value="Create" [disabled]="!createForm.valid" class="btn btn-default">
    </div>
  </div>
</form>
<!-- END CREATION FORM -->

<!-- CATEGORIES LIST -->
<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Freqency</th>
      <th>Years</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="#category of categories | categorySorter">
      <td>{{category.name}}</td>
      <td>{{category.type}}</td>
      <td>{{category.frequency}}</td>
      <td>{{category.years.join(",")}}</td>
      <td><span (click)="onDelete(category)">Del</span></td>
    </tr>
  </tbody>
</table>
<!-- END CATEGORIES LIST -->
</div>
